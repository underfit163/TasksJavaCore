# TasksJavaCore
Java tasks solving.

## Лабораторная работа №2
Задание на лабораторную работу

В процессе написания тестовых заданий ознакомиться с механизмом исключений в Java и концепцией интерфейсов.
#### Задание 1
Написать класс Автомобиль. Он должен содержать: 
поле типа String, хранящее марку автомобиля,
метод для получения марки автомобиля,
метод для модификации марки автомобиля,
внутренний класс Модель, имеющий поля название модели и её цену, а также конструктор (класс Автомобиль хранит массив Моделей),
метод для модификации значения названия модели,
метод, возвращающий массив названий всех моделей,
метод для получения значения цены модели по её названию,
метод для модификации значения цены модели по её названию,
метод, возвращающий массив значений цен моделей,
метод добавления названия модели и её цены (путем создания нового массива Моделей), использовать метод Arrays.copyOf(),
метод удаления модели с заданным именем и её цены, использовать методы System.arraycopy, Arrays.copyOf(),
метод для получения размера массива Моделей.
Конструктор класса должен принимать в качестве параметров значение Марки автомобиля и размер массива Моделей.
#### Задание 2
Написать класс Мотоцикл, реализующий функциональность, сходную с классом из задания 1, основанный на двусвязном циклическом списке с головой.
```java
public class Мотоцикл {
      private class Модель{
            String название модели = null;
double цена = Double.NaN;
            Модель prev = null;
Модель next = null;
      }
       private Модель head = new Модель();
      {
        head.prev = head;
        head.next = head;
       }
        private int size = 0;
// далее код по заданию
}
```
#### Задание 3
Описать классы ошибок задания несуществующего имени модели NoSuchModelNameException (объявляемое), дублирования названия моделей DuplicateModelNameException (объявляемое), задание неверной цены модели ModelPriceOutOfBoundsException (необъявляемое).
Изменить методы классов так, чтобы они корректно обрабатывали ошибки и выбрасывали исключения.
#### Задание 4
Описать интерфейс Транспортное средство имеющий методы, соответствующие общей функциональности двух созданных классов. Сделать так, чтобы оба класса реализовывали этот интерфейс.
#### Задание 5
Написать класс со статическими методами таким образом, чтобы он работал со ссылками типа интерфейса. В классе должен быть метод, возвращающий среднее арифметическое цен моделей для заданного Транспортного средства и методы, обеспечивающие вывод на экран всех моделей и всех цен на модели для заданного Транспортного средства.

## Лабораторная работа №3
Задание на лабораторную работу

В процессе написания тестовых заданий ознакомиться с механизмом систем ввода и вывода данных.
#### Задание 1
Модифицировать класс со статическими методами из предыдущей работы, добавив в него новые методы:
- записи информации о транспортном средстве в байтовый поток (использовать DataOutputStream)
public static void outputТранспортное средство (Транспортное средство v, OutputStream out),
- чтения информации о транспортном средстве из байтового потока (использовать DataInputStream)
public static Транспортное средство inputТранспортное средство (InputStream in),
- записи информации о транспортном средстве в символьный поток (использовать PrintWriter)
public static void writeТранспортное средство (Транспортное средство v, Writer out),
- чтения информации о транспортном средстве из символьного потока (использовать BufferedReader или StreamTokenizer)
public static Транспортное средство readТранспортное средство (Reader in).
В обоих случаях нужно записать марку транспортного средства, количество моделей, а затем список моделей и цен моделей. При записи строки в байтовый поток использовать метод getBytes() для перевода строки в массив байт. Перед строкой нужно записать её длину.
Проверить возможности методов (в методе main), в качестве реальных потоков используя файловые потоки (FileInputStream, FileOutputStream, FileReader и FileWriter), а также потоки System.in и System.out.
#### Задание 2
Модифицировать классы Автомобиль и Мотоцикл таким образом, чтобы они были сериализуемыми.
Продемонстрировать возможности сериализации (в методе main), записав в файл объект, затем считав и сравнив с исходным (по сохраненным значениям). Использовать ObjectOutputStream, ObjectInputStream.

## Лабораторная работа №4
Задание на лабораторную работу

В процессе написания тестовых заданий ознакомиться с методами класса Object и расширить функциональность имеющегося пакета.
#### Задание 1
Добавить в классы Автомобиль и Мотоцикл реализации методов String toString(). Использовать для формирования строки экземпляр класса StringBuffer.
#### Задание 2
Добавить в классы Автомобиль и Мотоцикл реализации методов boolean equals(Object obj). Метод должен возвращать true только в том случае, если объект, на который передана ссылка, является Транспортным средством и имеет такую же марку, список моделей и цен моделей, что и текущий объект. Использовать instanceof.
#### Задание 3
Добавить в классы Автомобиль и Мотоцикл реализации методов int hashCode().
#### Задание 4
Добавить в классы Автомобиль и Мотоцикл реализации методов Object clone(). Клонирование должно быть глубоким. Использовать super.clone().

## Практическая работа №5
Задание на практическую работу

Ознакомиться с возможностями механизма рефлексии, новыми возможностями языка Java, появившимися в версии 5.0, коллекциями.
#### Задание 1
Написать код (можно в методе main()), который с помощью рефлексии вызывает метод для модификации значения цены модели по её названию класса Автомобиль.
В параметрах командной строки приложения указывается полное имя класса, имя метода, который следует вызвать у класса (метод нестатический) и числовые параметры для этого метода (типа int).
На экран должен быть выведен результат выполнения этого метода (информация об автомобиле, включая марку автомобиля, названия всех моделей и их цены).
#### Задание 2
В классе со статическими методами написать метод создания транспортного средства, который получает значение марки автомобиля, размер массива Моделей, ссылку типа интерфейса Транспортного средства, по которой средствами рефлексии определяет реальный класс объекта, находит в нем конструктор и создает объект средствами рефлексии и того же класса, что и переданный параметр. Если конструктор с параметрами типа String и int отсутствует, то следует вернуть пустую ссылку.
#### Задание 3
Добавить новый класс Скутер, использующий для хранения моделей транспортного средства коллекцию HashMap, причем в параметризованной форме. Марка скутера хранится в поле типа String. Класс должен реализовывать интерфейс Транспортное средство.
#### Задание 4
Добавить новый класс Квадроцикл, использующий для хранения моделей транспортного средства коллекцию ArrayList, причем в параметризованной форме. Марка квадроцикла хранится в поле типа String. Класс должен реализовывать интерфейс Транспортное средство.
#### Задание 5
Добавить новый класс Мопед, использующий для хранения моделей транспортного средства коллекцию LinkedList, причем в параметризованной форме. Марка мопеда хранится в поле типа String. Класс должен реализовывать интерфейс Транспортное средство.
#### Задание 6
Добавить в класс со статическими методами метод, возвращающий среднее арифметическое цен моделей для заданного массива Транспортных средств (с использованием аргумента переменной длины).
#### Задание 7
Изменить методы текстового чтения и записи в классе со статическими методами таким образом, чтобы они использовали возможности форматированного ввода и вывода. Метод записи должен использовать метод printf(), а метод чтения - класс Scanner.

## Лабораторная работа №6
Задание на лабораторную работу

В процессе написания тестовых заданий ознакомиться с общими принципами создания многопоточных приложений.
#### Задание 1
Создать два класса нитей (наследуют от класса Thread), взаимодействующих с помощью промежуточного объекта типа интерфейс Транспортного средства.
Первая нить последовательно выводит на экран цены на модели транспортного средства.
Вторая нить последовательно выводит на экран названия моделей транспортного средства.
В методе main() следует создать 3 участвующих в процессе объекта (транспортное средство и две нити) и запустить нити на выполнение. Запустите программу несколько раз. Попробуйте варьировать приоритеты нитей.
#### Задание 2
Создайте два новых класса нитей (реализуют интерфейс Runnable), обеспечивающих последовательность операций вывода моделей и цен на модели (т.е. на экран выводятся модель-цена-модель-цена…) независимо от приоритетов потоков. Для этого потребуется описать некий вспомогательный класс TransportSynchronizer, объект которого будет использоваться при взаимодействии нитей.
```java
public class TransportSynchronizer {
    private Transport v;
    private volatile int current = 0;
    private Object lock = new Object();
    private boolean set = false;
   
    public TransportSynchronizer(Transport v) {
        this.v = v;
    }
   
    public double printPrice() throws InterruptedException {
        double val;
        synchronized(lock) {
            double [] p = v.getPrices();
            if (!canPrintPrice()) throw new InterruptedException();
            while (!set)
                lock.wait();
            val = p[current++];
            System.out.println("Print price: " + val);
            set = false;
            lock.notifyAll();
        }
        return val;
    }  
   
    public void printModel() throws InterruptedException {
        synchronized(lock) {
            String [] s = v.getModels();
            if (!canPrintModel()) throw new InterruptedException();
            while (set)
                lock.wait();
            System.out.println("Print model: " + s[current]);
            set = true;
            lock.notifyAll();
        }
    }
    
    public boolean canPrintPrice() {
        return current < v.getSize();
    }
    
    public boolean canPrintModel() {
        return (!set && current < v.getSize()) || (set && current < v.getSize() - 1);
    }
}
```
#### Задание 3
Создайте два новых класса нитей (реализуют интерфейс Runnable), обеспечивающих вывод сначала всех моделей, а затем всех цен на модели (возможен вывод сначала всех цен, а затем всех моделей). Использовать ReentrantLock.
#### Задание 4
Создайте новый класс нитей (реализует интерфейс Runnable), обеспечивающий вывод на экран марки транспортного средства. В методе main() следует создать четыре участвующих в процессе транспортных средства и пул потоков размерностью два. Использовать класс Executors. Запустить программу несколько раз и проанализировать результаты.
#### Задание 5
Создайте новый класс нитей (реализует интерфейс Runnable), обеспечивающий считывание из файла названия марки и создание экземпляра класса, реализующего интерфейс Transport. Имя файла передаётся как параметр в конструктор нити. Также вторым параметром передаётся экземпляр BlockingQueue (рекомендуется использовать реализацию ArrayBlockingQueue). Нить должна считать название марки транспортного средства из файла, создать экземпляр транспортного средства и положить его в очередь, используя метод put().
Создайте вручную 5 текстовых файлов, в каждом из которых добавьте одну строчку, содержащую название марки автомобиля.
В методе main() следует создать экземпляр ArrayBlockingQueue и завести массив имён созданных файлов, для каждого из которых в цикле необходимо создать и запустить на исполнение экземпляр нити, передав в конструктор путь к очередному файлу и ссылку на очередь.
Далее в цикле необходимо считать из очереди все пришедшие транспортные средства, используя метод take(), и вывести их названия в консоль. Посмотрите, как меняется исполнение программы при замене метода put() на add() и при варьировании длины очереди от 1 до 5.
